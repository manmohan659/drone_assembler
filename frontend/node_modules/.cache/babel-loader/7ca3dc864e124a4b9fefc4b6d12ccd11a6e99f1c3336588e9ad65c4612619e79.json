{"ast":null,"code":"var _jsxFileName = \"/Users/manmohan/drone-assembly-ai/frontend/src/components/VoiceInput.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/VoiceInput.js\nimport React, { useState, useCallback } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\nimport Logger from '../utils/logger';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceInput = ({\n  onVoiceInput,\n  disabled = false\n}) => {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const startListening = useCallback(() => {\n    try {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognitionInstance = new SpeechRecognition();\n      recognitionInstance.continuous = false;\n      recognitionInstance.interimResults = false;\n      recognitionInstance.lang = 'en-US';\n      recognitionInstance.onstart = () => {\n        Logger.info('Voice recognition started');\n        setIsListening(true);\n      };\n      recognitionInstance.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        Logger.info('Voice input received:', transcript);\n        onVoiceInput(transcript);\n      };\n      recognitionInstance.onerror = event => {\n        Logger.error('Voice recognition error:', event.error);\n        setIsListening(false);\n      };\n      recognitionInstance.onend = () => {\n        Logger.info('Voice recognition ended');\n        setIsListening(false);\n      };\n      setRecognition(recognitionInstance);\n      recognitionInstance.start();\n    } catch (error) {\n      Logger.error('Failed to initialize voice recognition:', error);\n    }\n  }, [onVoiceInput]);\n  const stopListening = useCallback(() => {\n    if (recognition) {\n      recognition.stop();\n      setIsListening(false);\n    }\n  }, [recognition]);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: isListening ? stopListening : startListening,\n    disabled: disabled,\n    className: `w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-colors ${isListening ? 'bg-red-600 hover:bg-red-700' : 'bg-purple-600 hover:bg-purple-700'} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`,\n    title: isListening ? 'Stop listening' : 'Start voice input',\n    children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 55\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceInput, \"MKlNKqVncSERkSEWh0ZC5q/R6eg=\");\n_c = VoiceInput;\nexport default VoiceInput;\nvar _c;\n$RefreshReg$(_c, \"VoiceInput\");","map":{"version":3,"names":["React","useState","useCallback","Mic","MicOff","Logger","jsxDEV","_jsxDEV","VoiceInput","onVoiceInput","disabled","_s","isListening","setIsListening","recognition","setRecognition","startListening","SpeechRecognition","window","webkitSpeechRecognition","recognitionInstance","continuous","interimResults","lang","onstart","info","onresult","event","transcript","results","onerror","error","onend","start","stopListening","stop","onClick","className","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/manmohan/drone-assembly-ai/frontend/src/components/VoiceInput.js"],"sourcesContent":["// frontend/src/components/VoiceInput.js\nimport React, { useState, useCallback } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\nimport Logger from '../utils/logger';\n\nconst VoiceInput = ({ onVoiceInput, disabled = false }) => {\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n\n  const startListening = useCallback(() => {\n    try {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognitionInstance = new SpeechRecognition();\n      \n      recognitionInstance.continuous = false;\n      recognitionInstance.interimResults = false;\n      recognitionInstance.lang = 'en-US';\n\n      recognitionInstance.onstart = () => {\n        Logger.info('Voice recognition started');\n        setIsListening(true);\n      };\n\n      recognitionInstance.onresult = (event) => {\n        const transcript = event.results[0][0].transcript;\n        Logger.info('Voice input received:', transcript);\n        onVoiceInput(transcript);\n      };\n\n      recognitionInstance.onerror = (event) => {\n        Logger.error('Voice recognition error:', event.error);\n        setIsListening(false);\n      };\n\n      recognitionInstance.onend = () => {\n        Logger.info('Voice recognition ended');\n        setIsListening(false);\n      };\n\n      setRecognition(recognitionInstance);\n      recognitionInstance.start();\n    } catch (error) {\n      Logger.error('Failed to initialize voice recognition:', error);\n    }\n  }, [onVoiceInput]);\n\n  const stopListening = useCallback(() => {\n    if (recognition) {\n      recognition.stop();\n      setIsListening(false);\n    }\n  }, [recognition]);\n\n  return (\n    <button\n      onClick={isListening ? stopListening : startListening}\n      disabled={disabled}\n      className={`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-colors ${\n        isListening \n          ? 'bg-red-600 hover:bg-red-700' \n          : 'bg-purple-600 hover:bg-purple-700'\n      } ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}\n      title={isListening ? 'Stop listening' : 'Start voice input'}\n    >\n      {isListening ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n    </button>\n  );\n};\n\nexport default VoiceInput;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACpD,SAASC,GAAG,EAAEC,MAAM,QAAQ,cAAc;AAC1C,OAAOC,MAAM,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,UAAU,GAAGA,CAAC;EAAEC,YAAY;EAAEC,QAAQ,GAAG;AAAM,CAAC,KAAK;EAAAC,EAAA;EACzD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAEpD,MAAMe,cAAc,GAAGd,WAAW,CAAC,MAAM;IACvC,IAAI;MACF,MAAMe,iBAAiB,GAAGC,MAAM,CAACD,iBAAiB,IAAIC,MAAM,CAACC,uBAAuB;MACpF,MAAMC,mBAAmB,GAAG,IAAIH,iBAAiB,CAAC,CAAC;MAEnDG,mBAAmB,CAACC,UAAU,GAAG,KAAK;MACtCD,mBAAmB,CAACE,cAAc,GAAG,KAAK;MAC1CF,mBAAmB,CAACG,IAAI,GAAG,OAAO;MAElCH,mBAAmB,CAACI,OAAO,GAAG,MAAM;QAClCnB,MAAM,CAACoB,IAAI,CAAC,2BAA2B,CAAC;QACxCZ,cAAc,CAAC,IAAI,CAAC;MACtB,CAAC;MAEDO,mBAAmB,CAACM,QAAQ,GAAIC,KAAK,IAAK;QACxC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;QACjDvB,MAAM,CAACoB,IAAI,CAAC,uBAAuB,EAAEG,UAAU,CAAC;QAChDnB,YAAY,CAACmB,UAAU,CAAC;MAC1B,CAAC;MAEDR,mBAAmB,CAACU,OAAO,GAAIH,KAAK,IAAK;QACvCtB,MAAM,CAAC0B,KAAK,CAAC,0BAA0B,EAAEJ,KAAK,CAACI,KAAK,CAAC;QACrDlB,cAAc,CAAC,KAAK,CAAC;MACvB,CAAC;MAEDO,mBAAmB,CAACY,KAAK,GAAG,MAAM;QAChC3B,MAAM,CAACoB,IAAI,CAAC,yBAAyB,CAAC;QACtCZ,cAAc,CAAC,KAAK,CAAC;MACvB,CAAC;MAEDE,cAAc,CAACK,mBAAmB,CAAC;MACnCA,mBAAmB,CAACa,KAAK,CAAC,CAAC;IAC7B,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd1B,MAAM,CAAC0B,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;IAChE;EACF,CAAC,EAAE,CAACtB,YAAY,CAAC,CAAC;EAElB,MAAMyB,aAAa,GAAGhC,WAAW,CAAC,MAAM;IACtC,IAAIY,WAAW,EAAE;MACfA,WAAW,CAACqB,IAAI,CAAC,CAAC;MAClBtB,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;EAEjB,oBACEP,OAAA;IACE6B,OAAO,EAAExB,WAAW,GAAGsB,aAAa,GAAGlB,cAAe;IACtDN,QAAQ,EAAEA,QAAS;IACnB2B,SAAS,EAAE,kGACTzB,WAAW,GACP,6BAA6B,GAC7B,mCAAmC,IACrCF,QAAQ,GAAG,+BAA+B,GAAG,EAAE,EAAG;IACtD4B,KAAK,EAAE1B,WAAW,GAAG,gBAAgB,GAAG,mBAAoB;IAAA2B,QAAA,EAE3D3B,WAAW,gBAAGL,OAAA,CAACH,MAAM;MAACiC,SAAS,EAAC;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGpC,OAAA,CAACJ,GAAG;MAACkC,SAAS,EAAC;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC;AAEb,CAAC;AAAChC,EAAA,CA9DIH,UAAU;AAAAoC,EAAA,GAAVpC,UAAU;AAgEhB,eAAeA,UAAU;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}